<!DOCTYPE html>
<html lang="nl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Transportplanner — HTML + Supabase</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <header class="site-header">
    <h1>Transportplanner</h1>
    <div class="sub">HTML + Supabase (client-side). Maak orders aan, plan carriers en bewaak deadlines.</div>
  </header>

  <main class="wrap">
    <aside class="sidebar">
      <section class="card">
        <h3>Filters</h3>
        <label>Regio
          <select id="filterRegion">
            <option value="">Alle</option>
            <option>Noord</option>
            <option>Midden</option>
            <option>Zuid</option>
            <option>België</option>
          </select>
        </label>
        <label>Status
          <select id="filterStatus">
            <option value="">Alle</option>
            <option>Nieuw</option>
            <option>Te plannen</option>
            <option>Gepland</option>
            <option>In transport</option>
            <option>Geleverd</option>
            <option>Geannuleerd</option>
          </select>
        </label>
        <button id="btnApplyFilters" class="btn ghost">Toepassen</button>
      </section>

      <section class="card">
        <h3>Auto-planner</h3>
        <p class="muted small">Wijst open orders toe op basis van regio, prioriteit en carrier-capaciteit per dag.</p>
        <label>Startdatum
          <input type="date" id="planStart" />
        </label>
        <label>Einddatum
          <input type="date" id="planEnd" />
        </label>
        <button id="btnSuggestPlan" class="btn primary">Genereer voorstel</button>
        <button id="btnApplyPlan" class="btn">Opslaan planning</button>
        <div id="plannerStatus" class="status"></div>
      </section>

      <section class="card">
        <h3>Snelle carrier</h3>
        <label>Carrier
          <input id="quickCarrier" placeholder="Bijv. Beekman Transport" />
        </label>
        <label>Capaciteit/dag
          <input id="quickCapacity" type="number" min="1" value="8" />
        </label>
        <label>Basisregio
          <select id="quickRegion">
            <option>Noord</option><option>Midden</option><option>Zuid</option><option>België</option>
          </select>
        </label>
        <button id="btnAddCarrier" class="btn">Carrier toevoegen</button>
        <div id="carrierStatus" class="status"></div>
      </section>
    </aside>

    <section class="content">
      <section class="card">
        <div class="bar">
          <h3>Nieuwe order</h3>
          <button id="btnReload" class="btn ghost">Vernieuwen</button>
        </div>
        <div class="grid2">
          <label>Klantnaam
            <input id="oCustomer" placeholder="Klant BV" />
          </label>
          <label>Stad
            <input id="oCity" placeholder="Plaatsnaam" />
          </label>
          <label>Regio
            <select id="oRegion">
              <option>Noord</option><option>Midden</option><option>Zuid</option><option>België</option>
            </select>
          </label>
          <label>Prioriteit (1–5)
            <input id="oPriority" type="number" min="1" max="5" value="3" />
          </label>
          <label>Gevraagde datum
            <input id="oDue" type="date" />
          </label>
          <label>Opmerkingen
            <input id="oNotes" placeholder="Bijzonderheden, aanmeldprocedure…" />
          </label>
        </div>
        <details>
          <summary>Regel(s) toevoegen (optioneel)</summary>
          <div class="grid3">
            <label>Product
              <input id="lProduct" placeholder="Heftruck, pallet, etc." />
            </label>
            <label>Aantal
              <input id="lQty" type="number" min="1" value="1" />
            </label>
            <label>Gewicht (kg)
              <input id="lWeight" type="number" min="0" step="0.1" value="0" />
            </label>
          </div>
        </details>
        <button id="btnCreate" class="btn primary">Order aanmaken</button>
        <div id="createStatus" class="status"></div>
      </section>

      <section class="card">
        <div class="bar">
          <h3>Orders</h3>
          <div class="muted small">Klik op een regel om te bewerken (carrier, datum, status).</div>
        </div>
        <div class="table-wrap">
          <table id="ordersTable">
            <thead>
              <tr>
                <th>Due</th><th>Klant</th><th>Regio</th><th>Prioriteit</th><th>Status</th><th>Carrier</th><th>Gepland</th>
              </tr>
            </thead>
            <tbody>
              <tr><td colspan="7" class="muted">Nog niets geladen…</td></tr>
            </tbody>
          </table>
        </div>
      </section>
    </section>
  </main>

  <!-- Modaal voor bewerken -->
  <dialog id="editDialog">
    <form method="dialog" class="card">
      <h3>Order bewerken</h3>
      <input type="hidden" id="eId" />
      <div class="grid2">
        <label>Status
          <select id="eStatus">
            <option>Nieuw</option>
            <option>Te plannen</option>
            <option>Gepland</option>
            <option>In transport</option>
            <option>Geleverd</option>
            <option>Geannuleerd</option>
          </select>
        </label>
        <label>Carrier
          <input id="eCarrier" placeholder="Bijv. Beekman Transport" list="carrierList"/>
          <datalist id="carrierList"></datalist>
        </label>
        <label>Geplande datum
          <input id="ePlanned" type="date" />
        </label>
        <label>Tijdslot
          <select id="eSlot">
            <option value="">n.v.t.</option>
            <option>AM</option><option>PM</option>
          </select>
        </label>
      </div>
      <menu class="menu">
        <button value="cancel" class="btn ghost">Annuleren</button>
        <button id="btnSaveEdit" value="default" class="btn primary">Opslaan</button>
      </menu>
    </form>
  </dialog>

  <script src="js/config.js"></script>
  <script src="js/api.js"></script>
  <script src="js/app.js"></script>
</body>
</html>
